<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <title>Consulta por Dia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="p-4">
<div class="container">
    <h3 class="mb-3">Consulta por Dia</h3>

    <form method="post" action="/dia" class="mb-4 row g-2">
        <div class="col-auto">
            <input name="dia" class="form-control" placeholder="ddMMyy ou YYYY-MM-DD" value="{dia}" />
        </div>
        <div class="col-auto">
            <button class="btn btn-primary">Buscar</button>
        </div>
    </form>

    {#if cols.isEmpty()}
    <div class="alert alert-info">Nenhum resultado. Faça uma busca.</div>
    {/if}

    {#if !cols.isEmpty()}
    <div class="table-responsive">
        <table class="table table-bordered table-sm">
            <thead class="table-light">
            <tr>
                <th>Descrição</th>
                {#for col in cols}
                <th>{col}</th>
                {/for}
            </tr>
            </thead>
            <tbody>
            {#for row in rows}
            <tr>
                <td style="min-width:300px">{row.texDesc}</td>
                {#for p in row.pricesList}
                <td>{p.valor}</td>
                {/for}
            </tr>
            {/for}
            </tbody>
        </table>
    </div>
    {/if}
</div>
</body>
</html>
